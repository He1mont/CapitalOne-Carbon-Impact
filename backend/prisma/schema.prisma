generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model account {
  id        Int    @id @default(autoincrement())
  username  String
  accountID String @unique
  email     String @unique
  transactions   transaction[]

  userID      userGoals? 
  friend friendship? @relation("Friends")
}

model transaction {
  id              Int     @id @default(autoincrement())
  transactionUUID String  @unique(map: "Transaction_transactionUUID_key") //add a date range
  accountID       String  
  account         account @relation(fields: [accountID], references: [accountID])
  merchantName    String
  category        String
  amount          Float
  date            DateTime
  carbonScore     Float
}


model friendship {
  id       Int    @id @default(autoincrement())
  userID   String @unique //foreign keys join (friend account id and name) // Account ID of the user
  friendID String @unique
  friend account @relation("Friends", fields: [friendID], references: [accountID])
}

model userGoals {
  id        Int     @id @default(autoincrement())
  accountID String  @unique
  account   account @relation(fields: [accountID], references: [accountID])
  goal      String
  month     String
}

